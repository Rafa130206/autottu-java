<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="~{fragmentos :: cabecalho(${pageTitle})}" />

  <body>
    <div th:replace="~{fragmentos :: navegacao(${usuarioLogado})}"></div>

    <div class="container">
      <div th:replace="~{fragmentos :: saudacoes(${usuarioLogado})}" />

      <div class="row">
        <h1 th:text="${pageTitle}">Formul√°rio de Moto</h1>
      </div>

      <div class="row">
        <form
          th:object="${moto}"
          th:action="${moto.id == null} ? @{/motos} : @{/motos/{id}(id=${moto.id})}"
          method="post"
        >
          <div class="mb-3">
            <label for="placa" class="form-label">Placa:</label>
            <input
              class="form-control"
              type="text"
              th:field="*{placa}"
              th:errorclass="is-invalid"
              id="placa"
              placeholder="ABC1234"
            />
            <div class="invalid-feedback" th:errors="*{placa}"></div>
          </div>

          <div class="mb-3">
            <label for="modelo" class="form-label">Modelo:</label>
            <input
              class="form-control"
              type="text"
              th:field="*{modelo}"
              th:errorclass="is-invalid"
              id="modelo"
              placeholder="Ex: CB 600"
            />
            <div class="invalid-feedback" th:errors="*{modelo}"></div>
          </div>

          <div class="mb-3">
            <label for="marca" class="form-label">Marca:</label>
            <input
              class="form-control"
              type="text"
              th:field="*{marca}"
              th:errorclass="is-invalid"
              id="marca"
              placeholder="Ex: Honda"
            />
            <div class="invalid-feedback" th:errors="*{marca}"></div>
          </div>

          <div class="mb-3">
            <label for="status" class="form-label">Status:</label>
            <select
              class="form-select"
              th:field="*{status}"
              th:errorclass="is-invalid"
              id="status"
            >
              <option value="">Selecione o status</option>
              <option
                th:each="status : ${lista_status}"
                th:value="${status}"
                th:text="${status.descricao}"
              ></option>
            </select>
            <div class="invalid-feedback" th:errors="*{status}"></div>
          </div>

          <div class="mb-3">
            <label for="urlFoto" class="form-label">URL da Foto:</label>
            <input
              class="form-control"
              type="url"
              th:field="*{urlFoto}"
              th:errorclass="is-invalid"
              id="urlFoto"
              placeholder="https://exemplo.com/foto.jpg"
            />
            <div class="invalid-feedback" th:errors="*{urlFoto}"></div>
          </div>

          <input
            type="hidden"
            name="_csrf"
            th:value="${_csrf != null ? _csrf.token : ''}"
          />

          <input th:if="${moto.id != null}" type="hidden" th:field="*{id}" />

          <div class="mb-3">
            <button type="submit" class="btn btn-primary">
              <span th:if="${moto.id == null}">Criar Moto</span>
              <span th:if="${moto.id != null}">Atualizar Moto</span>
            </button>
            <a href="/motos" class="btn btn-secondary">Cancelar</a>
          </div>
        </form>
      </div>

      <div class="row">
        <a href="/motos">Voltar para Lista</a>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
